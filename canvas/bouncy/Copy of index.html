<!doctype html>
<title>Canvas bounce</title>
<script>
var ctx,x=145,y=145,dx=Math.floor(Math.random()*4+5),dy=Math.floor(Math.random()*4+5);

function init() {
	var elem = document.getElementById('bouncy');

	if (elem && elem.getContext) {
		// Get the 2d context.
		ctx = elem.getContext('2d');
	}
	ctx.strokeStyle = "#f00";
	ctx.lineWidth = 1;
	ctx.strokeRect(18.5,18.5,263,263);
	setInterval(bounce,20);
}

function bounce() {
	if ((x+dx)<=20) { dx = 0-dx; x=20; }
	if ((x+dx+10)>=280) { dx = 0-dx; x=270; }
	if ((y+dy)<=20) { dy = 0-dy; y=25; }
	if ((y+dy+10)>=280) { dy = 0-dy; y=270; }
	x+=dx; y+=dy;
	ctx.fillStyle = "#eee";
	ctx.fillRect(19,19,262,262);
	ctx.fillStyle = "#000";
	ctx.fillRect(x,y,10,10);
}

document.addEventListener('load',init,false);
</script>

<body>
<canvas id="bouncy" width="300" height="300"></canvas>
</body>
