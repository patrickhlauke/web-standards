<!doctype html>
<title>Canvas bounce</title>
<style>
canvas { border: 10px #000031 solid; }
</style>
<script>
var ctx,x=145,y=145,dx=Math.floor(Math.random()*4+5),dy=Math.floor(Math.random()*4+5);

var img_bg = new Image();
img_bg.src = 'background.png';
var img_paddle = new Image();
img_paddle.src = 'paddle-trans.png';
var img_ball = new Image();
img_ball.src = 'ball.png';

function init() {
	var elem = document.getElementById('bouncy');

	if (elem && elem.getContext) {
		// Get the 2d context.
		ctx = elem.getContext('2d');
	}
	ctx.drawImage(img_bg,0,0);
	setInterval(bounce,20);
}

function bounce() {
	ctx.drawImage(img_bg,0,0);
	// ball
	if (x<=20) { dx = 0-dx; x=20; }
	if ((x+dx+8)>=340) { dx = 0-dx; x=340; }
	if (y<=15) { dy = 0-dy; y=15; }
	if ((y+dy+8)>=350) { dy = 0-dy; y=350; }
	x+=dx; y+=dy;
	ctx.drawImage(img_ball,x,y);
	// paddle
	px=x-30; py=350;
	if (px<20) { px=20; }
	if ((px+60)>340) { px=280; }
	ctx.drawImage(img_paddle,px,py);
}

</script>

<body onLoad="init()">
<canvas id="bouncy" width="360" height="378"></canvas>
</body>
